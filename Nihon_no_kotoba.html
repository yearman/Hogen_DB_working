<!DOCTYPE html>
<html lang="ja">
<meta charset="utf-8">
<title>「日本のことば」シリーズ作業用</title>

<h3>「日本のことば」シリーズ作業用</h3>

<textarea id="input" rows="12" style="width:100%;"></textarea>


  <div class="controls">
    <button onclick="convert()">変換</button>
    <button onclick="copyOut()">出力をコピー</button>
    <button onclick="clearAll()">クリア</button>
  </div>


  
<textarea id="output" rows="12" style="width:100%;"></textarea>

<script>
function convert() {
  let text = document.getElementById("input").value;
  text = text.replace(/\r?\n/g, "");
  text = text.replace(/■/g, "\n■");
  document.getElementById("output").value = text.trim();
}

async function copyOut() {
  const t = document.getElementById("output").value;
  try {
    await navigator.clipboard.writeText(t);
    alert("コピーしました");
  } catch (e) {
    const out = document.getElementById("output");
    out.focus();
    out.select();
    document.execCommand("copy");
    alert("コピーしました（互換モード）");
  }
}

function clearAll() {
  document.getElementById("input").value = "";
  document.getElementById("output").value = "";
}
</script>
</html>
